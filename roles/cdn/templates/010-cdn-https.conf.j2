<VirtualHost *:443>
    ServerName {{ server_name }}
    ServerAdmin {{ server_admin }}
    DocumentRoot {{ document_root }}
    
    SSLEngine on
    SSLCertificateFile  {{ server_cert_file }}
    SSLCertificateKeyFile {{ server_key_file }}
    
    Header always set Strict-Transport-Security "max-age=15552000"
    
    SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1
    SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256
    SSLHonorCipherOrder on
    SSLCompression off
    SSLSessionTickets off
    
    ErrorLog ${APACHE_LOG_DIR}/{{ server_name }}/error.log
    CustomLog ${APACHE_LOG_DIR}/{{ server_name }}/access.log combined
</VirtualHost>
